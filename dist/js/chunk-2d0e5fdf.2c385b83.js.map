{"version":3,"sources":["webpack:///./src/views/Checkorder.vue?b3c3","webpack:///src/views/Checkorder.vue","webpack:///./src/views/Checkorder.vue?d44d","webpack:///./src/views/Checkorder.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","arraylangth","length","_e","staticStyle","display","_v","attrs","to","_m","_l","getcartproduct","item","key","title","src","product","imageUrl","alt","width","height","_s","qty","unit","size","_f","price","on","click","$event","removeItem","id","colspan","total","final_total","directives","name","rawName","value","expression","type","placeholder","aria-label","aria-describedby","domProps","input","target","composing","coupon_code","addcouponCode","action","for","form","user","class","is-invalid","errors","has","required","$set","first","rows","preventDefault","createOrder","staticRenderFns","Checkordervue_type_script_lang_js_","data","cartproduct","order","email","tel","address","products","message","methods","getcart","api","concat","vm","$store","dispatch","$http","get","then","response","success","carts","delete","$bus","$emit","coupon","code","post","_this","$validator","validate","valid","$router","push","orderId","computed","isLoading","state","created","views_Checkordervue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0e5fdf.2c385b83.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container\"},[_c('main',{staticClass:\"carts\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row d-flex justify-content-center\"},[(!_vm.arraylangth.length)?_c('div',{staticClass:\"h2\",staticStyle:{\"display\":\"block\"}},[_c('span',{staticClass:\"h3\"},[_vm._v(\"購物車無任何商品\")]),_c('div',{staticClass:\"h4 mt-2\"},[_c('router-link',{attrs:{\"to\":\"/Detail\"}},[_vm._v(\"立刻選購去\")])],1)]):_vm._e(),(_vm.arraylangth.length)?_c('div',{staticClass:\"col-md-9\"},[_vm._m(0),_c('div',{staticClass:\"h2 text-center py-3\"},[_vm._v(\"你的購物車\")]),_c('table',{staticClass:\"table\"},[_vm._m(1),_c('tbody',[_vm._l((_vm.getcartproduct.carts),function(item){return _c('tr',{key:item.title},[_c('td',[_c('img',{attrs:{\"src\":item.product.imageUrl,\"alt\":\"\",\"width\":\"100\",\"height\":\"80\"}})]),_c('td',[_vm._v(_vm._s(item.product.title))]),_c('td',{staticClass:\"text-left\"},[_vm._v(_vm._s(item.qty)+\"/\"+_vm._s(item.product.unit))]),_c('td',{staticClass:\"text-left\"},[_vm._v(_vm._s(item.size))]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.product.price)))]),_c('td',{staticClass:\"text-right\"},[_c('button',{staticClass:\"btn btn-outline-danger\",on:{\"click\":function($event){return _vm.removeItem(item.id)}}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])}),_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"5\"}},[_vm._v(\"總計\")]),_c('td',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.getcartproduct.total)))])]),_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"5\"}},[_vm._v(\"折扣後總計\")]),_c('td',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.getcartproduct.final_total)))])])],2)]),_c('div',{staticClass:\"input-group mb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.coupon_code),expression:\"coupon_code\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入優惠碼\",\"aria-label\":\"Recipient's username\",\"aria-describedby\":\"button-addon2\"},domProps:{\"value\":(_vm.coupon_code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.coupon_code=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\",\"id\":\"button-addon2\"},on:{\"click\":_vm.addcouponCode}},[_vm._v(\"套用優惠碼\")])])]),_c('span',{staticClass:\"text-danger h4\"},[_vm._v(\"想要打到骨折，請輸入happy new year\")]),_c('div',{staticClass:\"h2 text-center py-3\"},[_vm._v(\"收件人資料\")]),_c('form',{attrs:{\"action\":\"\"}},[_c('div',{staticClass:\"row mb-2\"},[_c('div',{staticClass:\"col\"},[_c('label',{staticClass:\"mb-2\",attrs:{\"for\":\"username\"}},[_vm._v(\"收件人姓名\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.name),expression:\"form.user.name\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid':_vm.errors.has('name')},attrs:{\"type\":\"text\",\"name\":\"name\",\"id\":\"username\",\"placeholder\":\"請填寫收件人姓名\",\"required\":\"\"},domProps:{\"value\":(_vm.form.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"name\", $event.target.value)}}}),(_vm.errors.has('name'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"請輸入收件人姓名\")]):_vm._e()]),_c('div',{staticClass:\"col\"},[_c('label',{staticClass:\"mb-2\",attrs:{\"for\":\"usertel\"}},[_vm._v(\"收件人電話\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.tel),expression:\"form.user.tel\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid':_vm.errors.has('tel')},attrs:{\"type\":\"text\",\"name\":\"tel\",\"id\":\"usertel\",\"placeholder\":\"請填寫收件人電話\",\"required\":\"\"},domProps:{\"value\":(_vm.form.user.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"tel\", $event.target.value)}}}),(_vm.errors.has('tel'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"請輸入收件人電話\")]):_vm._e()])]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"mb-2\",attrs:{\"for\":\"useraddress\"}},[_vm._v(\"收件人地址\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.address),expression:\"form.user.address\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid':_vm.errors.has('address')},attrs:{\"type\":\"text\",\"name\":\"address\",\"id\":\"useraddress\",\"placeholder\":\"請填寫收件人地址\",\"required\":\"\"},domProps:{\"value\":(_vm.form.user.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"address\", $event.target.value)}}}),(_vm.errors.has('address'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"請輸入收件人地址\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"mb-2\",attrs:{\"for\":\"useremail\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.email),expression:\"form.user.email\"},{name:\"validate\",rawName:\"v-validate\",value:('required|email'),expression:\"'required|email'\"}],staticClass:\"form-control\",class:{'is-invalid':_vm.errors.has('email')},attrs:{\"type\":\"email\",\"name\":\"email\",\"id\":\"useremail\",\"placeholder\":\"請填寫Email\",\"required\":\"\"},domProps:{\"value\":(_vm.form.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"email\", $event.target.value)}}}),(_vm.errors.has('email'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.errors.first('email')))]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"mb-2\",attrs:{\"for\":\"usermessage\"}},[_vm._v(\"留言\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],staticClass:\"form-control\",attrs:{\"id\":\"usermessage\",\"rows\":\"5\"},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}})]),_c('div',{staticClass:\"text-right py-5\"},[_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"width\":\"200px\"},on:{\"click\":function($event){$event.preventDefault();return _vm.createOrder($event)}}},[_vm._v(\"填寫完成，付款去\")])])])]):_vm._e()])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step d-flex align-items-center\"},[_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"box box1 text-center active\"},[_vm._v(\"填寫訂單資料\")])]),_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"box box2 text-center\"},[_vm._v(\"金流付款\")])]),_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"box box3 text-center\"},[_vm._v(\"完成\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"width\":\"100\"}}),_c('th',{attrs:{\"width\":\"\"}},[_vm._v(\"品名\")]),_c('th',{staticClass:\"text-left\",attrs:{\"width\":\"90\"}},[_vm._v(\"數量\")]),_c('th',{staticClass:\"text-left\",attrs:{\"width\":\"70\"}},[_vm._v(\"尺寸\")]),_c('th',{attrs:{\"width\":\"150\"}},[_vm._v(\"價格\")]),_c('th',{attrs:{\"width\":\"100\"}})])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"container\">\r\n      <main class=\"carts\">\r\n        <div class=\"container\">\r\n          <div class=\"row d-flex justify-content-center\">\r\n            <div class=\"h2\" v-if=\"!arraylangth.length\" style=\"display:block;\">\r\n              <span class=\"h3\">購物車無任何商品</span>\r\n              <div class=\"h4 mt-2\">\r\n                <router-link to=\"/Detail\">立刻選購去</router-link>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"col-md-9\" v-if=\"arraylangth.length\">\r\n              <div class=\"step d-flex align-items-center\">\r\n                <div class=\"col-md-4\">\r\n                  <div class=\"box box1 text-center active\">填寫訂單資料</div>\r\n                </div>\r\n\r\n                <div class=\"col-md-4\">\r\n                  <div class=\"box box2 text-center\">金流付款</div>\r\n                </div>\r\n\r\n                <div class=\"col-md-4\">\r\n                  <div class=\"box box3 text-center\">完成</div>\r\n                </div>\r\n              </div>\r\n              <div class=\"h2 text-center py-3\">你的購物車</div>\r\n\r\n              <table class=\"table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th width=\"100\"></th>\r\n                    <th width>品名</th>\r\n                    <th width=\"90\" class=\"text-left\">數量</th>\r\n                    <th width=\"70\" class=\"text-left\">尺寸</th>\r\n                    <th width=\"150\">價格</th>\r\n                    <th width=\"100\"></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"item in getcartproduct.carts\" :key=\"item.title\">\r\n                    <td>\r\n                      <img :src=\"item.product.imageUrl\" alt width=\"100\" height=\"80\" />\r\n                    </td>\r\n                    <td>{{item.product.title }}</td>\r\n                    <td class=\"text-left\">{{item.qty}}/{{item.product.unit}}</td>\r\n                    <td class=\"text-left\">{{item.size}}</td>\r\n                    <td class=\"text-right\">{{item.product.price |currency}}</td>\r\n                    <td class=\"text-right\">\r\n                      <button class=\"btn btn-outline-danger\" @click=\"removeItem(item.id)\">\r\n                        <i class=\"far fa-trash-alt\"></i>\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td colspan=\"5\" class=\"text-right\">總計</td>\r\n                    <td>{{getcartproduct.total |currency}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td colspan=\"5\" class=\"text-right\">折扣後總計</td>\r\n                    <td>{{getcartproduct.final_total |currency}}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <div class=\"input-group mb-3\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"請輸入優惠碼\"\r\n                  aria-label=\"Recipient's username\"\r\n                  aria-describedby=\"button-addon2\"\r\n                  v-model=\"coupon_code\"\r\n                />\r\n                <div class=\"input-group-append\">\r\n                  <button\r\n                    class=\"btn btn-outline-secondary\"\r\n                    type=\"button\"\r\n                    id=\"button-addon2\"\r\n                    @click=\"addcouponCode\"\r\n                  >套用優惠碼</button>\r\n                </div>\r\n              </div>\r\n              <span class=\"text-danger h4\">想要打到骨折，請輸入happy new year</span>\r\n\r\n              <div class=\"h2 text-center py-3\">收件人資料</div>\r\n              <form action>\r\n                <div class=\"row mb-2\">\r\n                  <div class=\"col\">\r\n                    <label for=\"username\" class=\"mb-2\">收件人姓名</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"name\"\r\n                      class=\"form-control\"\r\n                      id=\"username\"\r\n                      placeholder=\"請填寫收件人姓名\"\r\n                      v-model=\"form.user.name\"\r\n                      v-validate=\"'required'\"\r\n                      required\r\n                      :class=\"{'is-invalid':errors.has('name')}\"\r\n                    />\r\n                    <span class=\"text-danger\" v-if=\"errors.has('name')\">請輸入收件人姓名</span>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <label for=\"usertel\" class=\"mb-2\">收件人電話</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"tel\"\r\n                      class=\"form-control\"\r\n                      id=\"usertel\"\r\n                      placeholder=\"請填寫收件人電話\"\r\n                      v-model=\"form.user.tel\"\r\n                      v-validate=\"'required'\"\r\n                      required\r\n                      :class=\"{'is-invalid':errors.has('tel')}\"\r\n                    />\r\n                    <span class=\"text-danger\" v-if=\"errors.has('tel')\">請輸入收件人電話</span>\r\n                  </div>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <label for=\"useraddress\" class=\"mb-2\">收件人地址</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"address\"\r\n                    class=\"form-control\"\r\n                    id=\"useraddress\"\r\n                    placeholder=\"請填寫收件人地址\"\r\n                    v-model=\"form.user.address\"\r\n                    v-validate=\"'required'\"\r\n                    required\r\n                    :class=\"{'is-invalid':errors.has('address')}\"\r\n                  />\r\n                  <span class=\"text-danger\" v-if=\"errors.has('address')\">請輸入收件人地址</span>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <label for=\"useremail\" class=\"mb-2\">Email</label>\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    class=\"form-control\"\r\n                    id=\"useremail\"\r\n                    placeholder=\"請填寫Email\"\r\n                    v-model=\"form.user.email\"\r\n                    v-validate=\"'required|email'\"\r\n                    required\r\n                    :class=\"{'is-invalid':errors.has('email')}\"\r\n                  />\r\n                  <span class=\"text-danger\" v-if=\"errors.has('email')\">{{errors.first('email')}}</span>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <label for=\"usermessage\" class=\"mb-2\">留言</label>\r\n                  <textarea class=\"form-control\" id=\"usermessage\" rows=\"5\" v-model=\"form.message\"></textarea>\r\n                </div>\r\n\r\n                <div class=\"text-right py-5\">\r\n                  <button\r\n                    class=\"btn btn-primary\"\r\n                    style=\"width:200px;\"\r\n                    @click.prevent=\"createOrder\"\r\n                  >填寫完成，付款去</button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"jquery\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      coupon_code: \"\",\r\n      cartproduct: {},\r\n      getcartproduct: {},\r\n      arraylangth: [],\r\n      order: {},\r\n      form: {\r\n        user: {\r\n          name: \"\",\r\n          email: \"\",\r\n          tel: \"\",\r\n          address: \"\"\r\n        },\r\n        products: {},\r\n        message: []\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    getcart() {\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_COUSTOMPATH}/cart`;\r\n      const vm = this;\r\n      vm.$store.dispatch(\"updateLoadgin\", true);\r\n      this.$http.get(api).then(response => {\r\n        if (response.data.success) {\r\n          vm.getcartproduct = response.data.data;\r\n          vm.arraylangth = response.data.data.carts;\r\n          vm.$store.dispatch(\"updateLoadgin\", false);\r\n          // console.log(\"length\", vm.arraylangth);\r\n          // console.log(vm.getcartproduct);\r\n        }\r\n      });\r\n    },\r\n\r\n    removeItem(id) {\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_COUSTOMPATH}/cart/${id}`;\r\n      const vm = this;\r\n      vm.$store.dispatch('updateLoadgin', true);\r\n      this.$http.delete(api).then(response => {\r\n        // console.log(response);\r\n        vm.$bus.$emit(\"updatecart\");\r\n        vm.getcart();\r\n        vm.$store.dispatch('updateLoadgin', false);\r\n      });\r\n    },\r\n    addcouponCode() {\r\n      const vm = this;\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_COUSTOMPATH}/coupon`;\r\n      const coupon = {\r\n        code: vm.coupon_code\r\n      };\r\n      vm.$store.dispatch('updateLoadgin', true);\r\n      this.$http.post(api, { data: coupon }).then(response => {\r\n        // console.log(response);\r\n        vm.getcart();\r\n        vm.$store.dispatch('updateLoadgin', false);\r\n      });\r\n    },\r\n    createOrder() {\r\n      const vm = this;\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_COUSTOMPATH}/order`;\r\n      const order = vm.form;\r\n      vm.$store.dispatch('updateLoadgin', true);\r\n      this.$validator.validate().then(valid => {\r\n        if (valid) {\r\n          this.$http.post(api, { data: order }).then(response => {\r\n            //  console.log(\"訂單已建立\", response);\r\n            if (response.data.success) {\r\n              vm.$router.push(`/setordercheck/${response.data.orderId}`);\r\n              vm.$bus.$emit(\"updatecart\");\r\n            }\r\n            vm.$store.dispatch('updateLoadgin', false);\r\n          });\r\n        } else {\r\n          // console.log(\"欄位不完整\");\r\n          vm.$store.dispatch('updateLoadgin', false);\r\n        }\r\n      });\r\n    }\r\n  },\r\n  computed: {\r\n    isLoading() {\r\n      return this.$store.state.isLoading; //操控使用store函式庫的狀態 要使用computed\r\n    }\r\n  },\r\n  created() {\r\n    this.getcart();\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkorder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkorder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Checkorder.vue?vue&type=template&id=2664dbc2&\"\nimport script from \"./Checkorder.vue?vue&type=script&lang=js&\"\nexport * from \"./Checkorder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}